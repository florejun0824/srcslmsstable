/* src/index.css */
@import "react-datepicker/dist/react-datepicker.css";

/* 1. Tailwind Directives (Must be at the top) */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Spinner Component Styles (iOS 18 Glass Background + Original Animation)
   ========================================================================== */
:root {
  --spinner-size: 80px;
  --spinner-thickness: 10px;
  --spinner-blur-intensity: 20px;
  --spinner-pulsate-duration: 2s;
  --spinner-rotation-duration: 4s;
  --spinner-gradient-start: #6366F1; /* Indigo-500 */
  --spinner-gradient-mid: #EC4899;   /* Pink-500 */
  --spinner-gradient-end: #8B5CF6;   /* Purple-500 */
  --spinner-overlay-bg: rgba(10, 10, 15, 0.7);
}

.spinner-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: var(--spinner-overlay-bg);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  z-index: 9999;
  /* FIX: Using a modern, clean system font stack for better readability */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}

.spinner-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.25rem;
  text-align: center;
  padding: 2.5rem 3rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 28px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.spinner-wrapper {
  position: relative;
  width: var(--spinner-size);
  height: var(--spinner-size);
  display: flex;
  justify-content: center;
  align-items: center;
}

.spinner-logo {
  position: absolute;
  width: calc(var(--spinner-size) / 1.3);
  height: calc(var(--spinner-size) / 1.3);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  background-color: transparent; /* Allows for transparent logos */
  z-index: 2;
}

.spinner-logo img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.spinner-inner {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: conic-gradient(
    var(--spinner-gradient-start) 0%,
    var(--spinner-gradient-mid) 30%,
    var(--spinner-gradient-end) 70%,
    var(--spinner-gradient-start) 100%
  );
  animation: spin-gradient var(--spinner-rotation-duration) linear infinite;
  filter: blur(var(--spinner-blur-intensity));
  opacity: 0.8;
}

.spinner-pulsar {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(circle at center, rgba(255,255,255,0.4) 0%, transparent 70%);
  animation: pulsate var(--spinner-pulsate-duration) ease-out infinite;
  z-index: 1;
}

.branding-text {
  color: rgb(255, 255, 255);
  font-weight: 700;
  font-size: 1.25rem;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.spinner-text-container {
  color: rgb(220, 220, 220);
  font-size: 1.1em;
  font-weight: 500;
  height: 1.5em;
  /* FIX: Removed monospace font to inherit the cleaner system font from .spinner-overlay */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.typing-cursor {
  display: inline-block;
  width: 2px;
  height: 1em;
  background-color: rgb(220, 220, 220);
  opacity: 0.8;
  margin-left: 4px;
  animation: blink 1s step-end infinite;
  vertical-align: text-bottom;
}


/* ==========================================================================
   Custom Animations
   ========================================================================== */

@keyframes spin-gradient {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulsate {
  0% { transform: scale(0.7); opacity: 0; }
  50% { transform: scale(1.1); opacity: 1; }
  100% { transform: scale(0.7); opacity: 0; }
}

@keyframes blink {
  50% { opacity: 0; }
}

@keyframes zoom-in-fade-out {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.2); opacity: 0; }
}
.animate-zoom-out { animation: zoom-in-fade-out 0.5s ease-in-out forwards; }

@keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fade-in 0.7s ease-out forwards; }

@keyframes slide-in-right {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}
.animate-slide-in-right { animation: slide-in-right 0.6s ease-out forwards; }


/* ==========================================================================
   Custom Reusable Component Layer
   ========================================================================== */

@layer components {
  /* --- Unified Button System (iOS 18 Vibe) --- */
  .btn {
    @apply flex items-center justify-center gap-2 font-semibold rounded-full transition-all duration-300 active:scale-95 disabled:opacity-50 disabled:transform-none disabled:shadow-none disabled:cursor-not-allowed;
  }
  .btn-primary {
    @apply btn px-5 py-2.5 bg-gradient-to-r from-indigo-500 to-blue-500 text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5;
  }
  .btn-secondary {
    @apply btn px-4 py-2 bg-black/5 backdrop-blur-sm text-slate-700 ring-1 ring-black/10 hover:bg-black/10;
  }
  .btn-destructive {
     @apply btn p-2.5 bg-red-500/10 backdrop-blur-sm text-red-600 ring-1 ring-red-500/20 hover:bg-red-500/20;
  }
  .btn-icon {
     @apply btn p-2.5 bg-black/5 backdrop-blur-sm text-slate-600 ring-1 ring-black/10 hover:bg-black/10;
  }
  .input-field {
    @apply w-full p-2 text-sm border border-slate-300 rounded-lg bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200;
  }
}

/* ==========================================================================
   Third-Party Library Overrides (DatePicker, etc.)
   ========================================================================== */

.content-renderer svg {
  width: 100%;
  height: auto;
  max-width: 600px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.tremor-dropdown-menu {
  z-index: 9999 !important;
}

.react-datepicker-popper {
  z-index: 9999 !important;
}

/* A cleaner default style for the date picker */
.react-datepicker {
  background-color: #ffffff !important;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important;
  border-radius: 1rem !important; /* 16px */
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1) !important;
}
.react-datepicker__header {
  background-color: #f9fafb !important; /* bg-gray-50 */
  border-bottom: 1px solid #e5e7eb !important;
}
.react-datepicker__current-month,
.react-datepicker__day-name {
  color: #111827 !important; /* text-gray-900 */
  font-weight: 600 !important;
}
.react-datepicker__day {
  color: #374151 !important; /* text-gray-700 */
}
.react-datepicker__day--selected,
.react-datepicker__day:hover {
  background-color: #4f46e5 !important; /* bg-indigo-600 */
  color: white !important;
  border-radius: 9999px !important;
}
.react-datepicker__day--keyboard-selected {
  background-color: transparent !important;
  border: 1px solid #4f46e5 !important;
}
.react-datepicker__navigation {
  top: 0.8rem !important;
}

/* Styles for the date picker inside Tremor components */
.tremor-dialog-panel .react-datepicker {
 background-color: white !important;
}
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate(-50%, 20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}
@keyframes holoText {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes flicker {
  0% { opacity: 1; }
  45% { opacity: 0.9; }
  50% { opacity: 0.4; }
  55% { opacity: 0.9; }
  100% { opacity: 1; }
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
/* ================================
   Lesson Content Styling (iOS-like)
   ================================ */

.content-renderer {
  line-height: 1.75;
  font-family: 'Inter', system-ui, sans-serif;
  color: #1f2937; /* slate-800 */
}

/* Headings */
.content-renderer h1,
.content-renderer h2,
.content-renderer h3,
.content-renderer h4 {
  font-weight: 700;
  color: #111827; /* slate-900 */
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

/* Paragraphs */
.content-renderer p {
  margin-bottom: 1rem;
}

/* Lists */
.content-renderer ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}
.content-renderer ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

/* ================================
   Inline Highlights
   ================================ */
.content-renderer .highlight-term {
  background: rgba(37, 99, 235, 0.08); /* subtle blue bg */
  padding: 0.1rem 0.25rem;
  border-radius: 0.25rem;
  color: #1e3a8a; /* indigo-900 */
  font-weight: 600;
}

.content-renderer .soft-text {
  color: #6b7280; /* slate-500 */
  font-weight: 300;
}

.content-renderer .strong-text {
  color: #111827;
  font-weight: 800;
}

/* ================================
   Callout Boxes
   ================================ */

.content-renderer .callout-info {
  border-left: 4px solid #2563eb; /* blue-600 */
  padding: 1rem;
  margin: 1.25rem 0;
  border-radius: 0.75rem;
  background: #eff6ff; /* blue-50 */
  color: #1e40af; /* blue-900 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.content-renderer .callout-warning {
  border-left: 4px solid #facc15; /* yellow-400 */
  padding: 1rem;
  margin: 1.25rem 0;
  border-radius: 0.75rem;
  background: #fefce8; /* yellow-50 */
  color: #78350f; /* amber-900 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.content-renderer .callout-success {
  border-left: 4px solid #22c55e; /* green-500 */
  padding: 1rem;
  margin: 1.25rem 0;
  border-radius: 0.75rem;
  background: #ecfdf5; /* green-50 */
  color: #065f46; /* green-900 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

/* ================================
   Links & Tables
   ================================ */
.content-renderer a {
  color: #2563eb;
  font-weight: 500;
  text-decoration: underline;
}
.content-renderer a:hover {
  color: #1d4ed8;
}

.content-renderer table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
  font-size: 0.95rem;
}
.content-renderer th,
.content-renderer td {
  border: 1px solid #e5e7eb;
  padding: 0.75rem;
  text-align: left;
}
.content-renderer th {
  background: #f9fafb;
  font-weight: 600;
}
/* In your main CSS file, e.g., index.css */
.my-masonry-grid {
  display: -webkit-box; /* Not needed if autoprefixing */
  display: -ms-flexbox; /* Not needed if autoprefixing */
  display: flex;
  margin-left: -24px; /* gutter size offset */
  width: auto;
}
.my-masonry-grid_column {
  padding-left: 24px; /* gutter size */
  background-clip: padding-box;
}

/* Style your items */
.my-masonry-grid_column > div { /* change div to reference your elements you put in <Masonry> */
  margin-bottom: 24px;
}
